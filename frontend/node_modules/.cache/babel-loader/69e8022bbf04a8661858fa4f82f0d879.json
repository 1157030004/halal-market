{"ast":null,"code":"var _jsxFileName = \"G:\\\\code\\\\ecommerce\\\\frontend\\\\src\\\\screens\\\\ProductListScreen.js\";\nimport React, { useEffect } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport Message from '../components/Message';\nimport Loader from '../components/Loader';\nimport Paginate from '../components/Paginate';\nimport IconButton from '@material-ui/core/IconButton';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport BorderColorRoundedIcon from '@material-ui/icons/BorderColorRounded';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport AddIcon from '@material-ui/icons/Add';\nimport { listProducts, deleteProduct, createProduct } from '../actions/productActions';\nimport { PRODUCT_CREATE_RESET } from '../constants/productConstants';\n\nconst ProductListScreen = ({\n  history,\n  match\n}) => {\n  const pageNumber = match.params.pageNumber || 1;\n  const dispatch = useDispatch();\n  const productList = useSelector(state => state.productList);\n  const {\n    loading,\n    error,\n    products,\n    pages,\n    page\n  } = productList;\n  const productDelete = useSelector(state => state.productDelete);\n  const {\n    loading: loadingDelete,\n    error: errorDelete,\n    success: successDelete\n  } = productDelete;\n  const productCreate = useSelector(state => state.productCreate);\n  const {\n    loading: loadingCreate,\n    error: errorCreate,\n    success: successCreate,\n    product: createdProduct\n  } = productCreate;\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  useEffect(() => {\n    dispatch({\n      type: PRODUCT_CREATE_RESET\n    });\n\n    if (!userInfo.isAdmin) {\n      history.push('/login');\n    }\n\n    if (successCreate) {\n      history.push(`/admin/product/${createdProduct._id}/edit`);\n    } else {\n      dispatch(listProducts('', pageNumber));\n    }\n  }, [dispatch, userInfo, history, successDelete, successCreate, createdProduct]);\n\n  const deleteHandler = id => {\n    if (window.confirm('Are you sure?')) {\n      dispatch(deleteProduct(id));\n    }\n  };\n\n  const createProductHandler = () => {\n    dispatch(createProduct());\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"userList__container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 28\n    }\n  }, \"Products\")), /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    color: \"primary\",\n    onClick: createProductHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 28\n    }\n  }, /*#__PURE__*/React.createElement(AddIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }), \" Create Product\"))), loadingDelete && /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 31\n    }\n  }), errorDelete && /*#__PURE__*/React.createElement(Message, {\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 29\n    }\n  }, errorDelete), loadingCreate && /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 31\n    }\n  }), errorCreate && /*#__PURE__*/React.createElement(Message, {\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 29\n    }\n  }, errorCreate), loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 24\n    }\n  }) : error ? /*#__PURE__*/React.createElement(Message, {\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 45\n    }\n  }, error) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TableContainer, {\n    component: Paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    className: \"userList__table\",\n    \"aria-label\": \"simple table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }, \"Id\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 25\n    }\n  }, \"Brand\"))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, products.map(product => /*#__PURE__*/React.createElement(TableRow, {\n    key: product._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    component: \"th\",\n    scope: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 29\n    }\n  }, product._id), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 29\n    }\n  }, product.name), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 29\n    }\n  }, \"$\", product.price), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 29\n    }\n  }, product.category), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 29\n    }\n  }, product.brand), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/admin/product/${product._id}/edit`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"delete\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(BorderColorRoundedIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 81\n    }\n  }))), /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"delete\",\n    color: \"primary\",\n    onClick: () => deleteHandler(product._id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(DeleteIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 120\n    }\n  })))))))), /*#__PURE__*/React.createElement(Paginate, {\n    pages: pages,\n    page: page,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  })));\n};\n\nexport default ProductListScreen;","map":{"version":3,"sources":["G:/code/ecommerce/frontend/src/screens/ProductListScreen.js"],"names":["React","useEffect","Link","useDispatch","useSelector","Message","Loader","Paginate","IconButton","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","BorderColorRoundedIcon","DeleteIcon","AddIcon","listProducts","deleteProduct","createProduct","PRODUCT_CREATE_RESET","ProductListScreen","history","match","pageNumber","params","dispatch","productList","state","loading","error","products","pages","page","productDelete","loadingDelete","errorDelete","success","successDelete","productCreate","loadingCreate","errorCreate","successCreate","product","createdProduct","userLogin","userInfo","type","isAdmin","push","_id","deleteHandler","id","window","confirm","createProductHandler","map","name","price","category","brand"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\r\nimport { Link } from \"react-router-dom\"\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport Paginate from '../components/Paginate'\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport BorderColorRoundedIcon from '@material-ui/icons/BorderColorRounded';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { listProducts, deleteProduct, createProduct } from '../actions/productActions'\r\nimport { PRODUCT_CREATE_RESET } from '../constants/productConstants'\r\n\r\nconst ProductListScreen = ({history, match}) => {\r\n    const pageNumber = match.params.pageNumber || 1\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const productList = useSelector(state => state.productList)\r\n    const { loading, error, products, pages, page } = productList\r\n\r\n    const productDelete = useSelector(state => state.productDelete)\r\n    const { loading: loadingDelete, error: errorDelete, success: successDelete  } = productDelete\r\n\r\n    const productCreate = useSelector(state => state.productCreate)\r\n    const { loading: loadingCreate, error: errorCreate, success: successCreate, product: createdProduct  } = productCreate    \r\n\r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    useEffect(() =>{\r\n        dispatch({ type: PRODUCT_CREATE_RESET})\r\n\r\n      if(!userInfo.isAdmin){\r\n        history.push('/login')\r\n      }\r\n\r\n      if(successCreate){\r\n          history.push(`/admin/product/${createdProduct._id}/edit`)\r\n      }else{\r\n          dispatch(listProducts('', pageNumber))\r\n      }\r\n        \r\n    }, [dispatch, userInfo ,history, successDelete, successCreate, createdProduct])\r\n\r\n    const deleteHandler = (id) =>{\r\n      if(window.confirm('Are you sure?')){\r\n        dispatch(deleteProduct(id))\r\n      }\r\n    }\r\n\r\n    const createProductHandler = () =>{\r\n        dispatch(createProduct())\r\n    }\r\n\r\n    return (\r\n        <div className=\"userList__container\">\r\n            <TableRow>\r\n                <TableCell><h1>Products</h1></TableCell>\r\n                <TableCell><IconButton color=\"primary\" onClick={createProductHandler}>\r\n                    <AddIcon/> Create Product\r\n                    </IconButton></TableCell>\r\n            </TableRow>\r\n            {loadingDelete && <Loader />}\r\n            {errorDelete && <Message severity=\"error\">{errorDelete}</Message>}\r\n            {loadingCreate && <Loader />}\r\n            {errorCreate && <Message severity=\"error\">{errorCreate}</Message>}\r\n            {loading ? <Loader /> : error ? <Message severity=\"error\">{error}</Message>\r\n            : (\r\n                <>\r\n            <TableContainer component={Paper}>\r\n                <Table className=\"userList__table\" aria-label=\"simple table\">\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell>Id</TableCell>\r\n                        <TableCell align=\"right\">Name</TableCell>\r\n                        <TableCell align=\"right\">Price</TableCell>\r\n                        <TableCell align=\"right\">Category</TableCell>\r\n                        <TableCell align=\"right\">Brand</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {products.map((product) => (\r\n                        <TableRow key={product._id}>\r\n                            <TableCell component=\"th\" scope=\"row\">\r\n                            {product._id}\r\n                            </TableCell>\r\n                            <TableCell align=\"right\">{product.name}</TableCell>\r\n                            <TableCell align=\"right\">${product.price}</TableCell>\r\n                            <TableCell align=\"right\">{product.category}</TableCell>\r\n                            <TableCell align=\"right\">{product.brand}</TableCell>\r\n                            <TableCell align=\"right\">\r\n                            <Link to={`/admin/product/${product._id}/edit`}>\r\n                                <IconButton aria-label=\"delete\" color=\"primary\"><BorderColorRoundedIcon /></IconButton>\r\n                            </Link>\r\n                            <IconButton aria-label=\"delete\" color=\"primary\" onClick={() => deleteHandler(product._id)}><DeleteIcon /></IconButton>\r\n                            </TableCell>\r\n                            \r\n                        </TableRow>\r\n                    ))}\r\n                </TableBody>\r\n            </Table>\r\n            </TableContainer>\r\n            <Paginate pages={pages} page={page} />\r\n            </>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProductListScreen\r\n"]},"metadata":{},"sourceType":"module"}