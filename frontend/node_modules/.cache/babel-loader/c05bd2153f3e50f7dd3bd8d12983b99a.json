{"ast":null,"code":"import _toConsumableArray from\"G:\\\\code\\\\ecommerce\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"G:\\\\code\\\\ecommerce\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from\"react-router-dom\";import\"./ProductScreen.css\";import{Button,InputLabel,MenuItem,Select,TableRow}from'@material-ui/core';import Rating from'../components/Rating';import{useDispatch,useSelector}from\"react-redux\";import Message from'../components/Message';import Loader from'../components/Loader';import Meta from'../components/Meta';import{listProductDetails,createProductReview}from\"../actions/productActions\";import{PRODUCT_CREATE_REVIEW_RESET}from'../constants/productConstants';import FormContainer from'../components/FormContainer';import{TextValidator,ValidatorForm}from'react-material-ui-form-validator';var ProductScreen=function ProductScreen(_ref){var history=_ref.history,match=_ref.match;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),rating=_useState4[0],setRating=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),comment=_useState6[0],setComment=_useState6[1];var dispatch=useDispatch();var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var productReviewCreate=useSelector(function(state){return state.productReviewCreate;});var successProductReview=productReviewCreate.success,errorProductReview=productReviewCreate.error;useEffect(function(){if(successProductReview){alert('Review Submitted!');setRating(0);setComment('');dispatch({type:PRODUCT_CREATE_REVIEW_RESET});}dispatch(listProductDetails(match.params.id));},[dispatch,match,successProductReview]);var addToCartHandler=function addToCartHandler(){history.push(\"/cart/\".concat(match.params.id,\"?qty=\").concat(qty));};var submitHandler=function submitHandler(e){e.preventDefault();dispatch(createProductReview(match.params.id,{rating:rating,comment:comment}));};return/*#__PURE__*/React.createElement(React.Fragment,null,loading?/*#__PURE__*/React.createElement(Loader,null):error?/*#__PURE__*/React.createElement(Message,{severity:\"error\"},error):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Meta,{title:product.name}),/*#__PURE__*/React.createElement(\"div\",{className:\"product__item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"product__image\"},/*#__PURE__*/React.createElement(\"img\",{src:product.image,alt:product.name})),/*#__PURE__*/React.createElement(\"div\",{className:\"product__left\"},/*#__PURE__*/React.createElement(\"h3\",null,product.name),/*#__PURE__*/React.createElement(Rating,{value:product.rating,text:\"\".concat(product.numReviews,\" reviews\")}),/*#__PURE__*/React.createElement(\"h4\",null,\"Price: $\".concat(product.price)),/*#__PURE__*/React.createElement(\"p\",null,product.description)),/*#__PURE__*/React.createElement(\"div\",{className:\"product__right\",role:\"table\"},/*#__PURE__*/React.createElement(\"div\",{className:\"flex__table__row\",role:\"rowgroup\"},/*#__PURE__*/React.createElement(InputLabel,{id:\"label\"},\"Price:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"flex__rowChild\",role:\"cell\"},\"$\",product.price)),/*#__PURE__*/React.createElement(\"div\",{className:\"flex__table__row\",role:\"rowgroup\"},/*#__PURE__*/React.createElement(InputLabel,{id:\"label\"},\"Status:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"flex__rowChild\",role:\"cell\"},product.countInStock>0?\"In Stock\":\"Out of Stock\")),product.countInStock>0&&/*#__PURE__*/React.createElement(\"div\",{className:\"flex__table__row\",role:\"rowgroup\"},/*#__PURE__*/React.createElement(InputLabel,{id:\"label\"},\"Qty:\"),/*#__PURE__*/React.createElement(\"div\",{className:\"flex__rowChild\",role:\"cell\"},/*#__PURE__*/React.createElement(Select,{labelId:\"label\",id:\"select\",value:qty,onChange:function onChange(e){return setQty(e.target.value);}},_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/React.createElement(\"option\",{key:x+1,value:x+1},x+1);})))),/*#__PURE__*/React.createElement(\"div\",{className:\"add__cart\",role:\"rowgroup\"},/*#__PURE__*/React.createElement(Button,{onClick:addToCartHandler,variant:\"outlined\",disabled:product.countInStock===0},\"Add to cart\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"review__container\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Reviews\"),product.reviews.length===0&&/*#__PURE__*/React.createElement(Message,null,\"No Reviews\"),/*#__PURE__*/React.createElement(\"div\",{className:\"review__list\"},product.reviews.map(function(review){return/*#__PURE__*/React.createElement(\"div\",{className:\"review__item\",key:review._id},/*#__PURE__*/React.createElement(\"strong\",null,review.name),/*#__PURE__*/React.createElement(Rating,{value:review.rating}),/*#__PURE__*/React.createElement(\"p\",null,review.createdAt.substring(0,10)),/*#__PURE__*/React.createElement(\"p\",null,review.comment));}),/*#__PURE__*/React.createElement(\"div\",{className:\"review__maker\"},/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(\"h2\",null,\"Write a Customer Review\"),errorProductReview&&/*#__PURE__*/React.createElement(Message,{severity:\"error\"},errorProductReview),userInfo?/*#__PURE__*/React.createElement(FormContainer,null,/*#__PURE__*/React.createElement(ValidatorForm,{onSubmit:submitHandler,variant:\"outlined\"},/*#__PURE__*/React.createElement(InputLabel,{shrink:true,htmlFor:\"age-native-label-placeholder\"},\"Rating\"),/*#__PURE__*/React.createElement(Select,{labelId:\"select-rating\",label:\"Rating\",id:\"rating\",value:rating,onChange:function onChange(e){return setRating(e.target.value);},style:{border:'1px solid #ced4da',borderRadius:4,backgroundColor:'#f2f2f2'}},/*#__PURE__*/React.createElement(MenuItem,{value:\"\"},/*#__PURE__*/React.createElement(\"em\",null,\"None\")),/*#__PURE__*/React.createElement(MenuItem,{value:1},\"1 - Poor\"),/*#__PURE__*/React.createElement(MenuItem,{value:2},\"2 - Fair\"),/*#__PURE__*/React.createElement(MenuItem,{value:3},\"3 - Good\"),/*#__PURE__*/React.createElement(MenuItem,{value:4},\"4 - Very Good\"),/*#__PURE__*/React.createElement(MenuItem,{value:5},\"5 - Excellent\")),/*#__PURE__*/React.createElement(InputLabel,{shrink:true,htmlFor:\"age-native-label-placeholder\"},\"Comment\"),/*#__PURE__*/React.createElement(TextValidator,{label:\"Write a comment here...\",onChange:function onChange(e){return setComment(e.target.value);},name:\"comment\",value:comment,multiline:true,style:{width:'260%',borderRadius:4}}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{color:\"secondary\",variant:\"contained\",type:\"submit\"},\"Submit\"))):/*#__PURE__*/React.createElement(Message,null,\"Please \",/*#__PURE__*/React.createElement(Link,{to:\"/login\"},/*#__PURE__*/React.createElement(\"b\",null,\"sign in \")),\"to write a review\")))))));};export default ProductScreen;","map":{"version":3,"sources":["G:/code/ecommerce/frontend/src/screens/ProductScreen.js"],"names":["React","useState","useEffect","Link","Button","InputLabel","MenuItem","Select","TableRow","Rating","useDispatch","useSelector","Message","Loader","Meta","listProductDetails","createProductReview","PRODUCT_CREATE_REVIEW_RESET","FormContainer","TextValidator","ValidatorForm","ProductScreen","history","match","qty","setQty","rating","setRating","comment","setComment","dispatch","productDetails","state","loading","error","product","userLogin","userInfo","productReviewCreate","successProductReview","success","errorProductReview","alert","type","params","id","addToCartHandler","push","submitHandler","e","preventDefault","name","image","numReviews","price","description","countInStock","target","value","Array","keys","map","x","reviews","length","review","_id","createdAt","substring","border","borderRadius","backgroundColor","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Link } from \"react-router-dom\"\r\nimport \"./ProductScreen.css\"\r\nimport { Button, InputLabel, MenuItem, Select, TableRow } from '@material-ui/core'\r\nimport Rating from '../components/Rating'\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport Message from '../components/Message'\r\nimport Loader from '../components/Loader'\r\nimport Meta from '../components/Meta'\r\nimport { listProductDetails, createProductReview } from \"../actions/productActions\"\r\nimport { PRODUCT_CREATE_REVIEW_RESET } from '../constants/productConstants'\r\nimport FormContainer from '../components/FormContainer'\r\nimport { TextValidator, ValidatorForm } from 'react-material-ui-form-validator'\r\n\r\nconst ProductScreen = ({ history, match }) => {\r\n    const [qty, setQty] = useState(1)\r\n    const [rating, setRating] = useState(0)\r\n    const [comment, setComment] = useState('')\r\n\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const productDetails = useSelector(state => state.productDetails)\r\n    const { loading, error, product } = productDetails\r\n    \r\n    const userLogin = useSelector(state => state.userLogin)\r\n    const { userInfo } = userLogin\r\n\r\n    const productReviewCreate = useSelector(state => state.productReviewCreate)\r\n    const { success: successProductReview, error: errorProductReview } = productReviewCreate\r\n\r\n    useEffect(() => {\r\n        if(successProductReview){\r\n            alert('Review Submitted!')\r\n            setRating(0)\r\n            setComment('')\r\n            dispatch({ type: PRODUCT_CREATE_REVIEW_RESET })\r\n        }\r\n        dispatch(listProductDetails(match.params.id))\r\n    }, [dispatch, match, successProductReview])\r\n\r\n\r\n    const addToCartHandler = () => {\r\n        history.push(`/cart/${match.params.id}?qty=${qty}`)\r\n    }\r\n\r\n    const submitHandler = e =>{\r\n        e.preventDefault()\r\n        dispatch(createProductReview(match.params.id, {\r\n            rating,\r\n            comment\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {loading ? < Loader /> : error ? <Message severity=\"error\">{error}</Message>\r\n                : (\r\n                    <>\r\n                    <Meta title={product.name} />\r\n                    <div className=\"product__item\">\r\n                        <div className=\"product__image\">\r\n                            <img src={product.image} alt={product.name}></img>\r\n                        </div>\r\n\r\n                        <div className=\"product__left\">\r\n                            <h3>{product.name}</h3>\r\n                            <Rating value={product.rating} text={`${product.numReviews} reviews`} />\r\n                            <h4>{`Price: $${product.price}`}</h4>\r\n                            <p>{product.description}</p>\r\n                        </div>\r\n\r\n                        <div className=\"product__right\" role=\"table\">\r\n\r\n\r\n                            <div className=\"flex__table__row\" role=\"rowgroup\">\r\n                                <InputLabel id=\"label\">Price:</InputLabel>\r\n                                <div className=\"flex__rowChild\" role=\"cell\">${product.price}</div>\r\n                            </div>\r\n\r\n                            <div className=\"flex__table__row\" role=\"rowgroup\">\r\n                                <InputLabel id=\"label\">Status:</InputLabel>\r\n                                <div className=\"flex__rowChild\" role=\"cell\">{product.countInStock > 0 ? \"In Stock\" : \"Out of Stock\"}</div>\r\n                            </div>\r\n\r\n                            {product.countInStock > 0 && (\r\n                                <div className=\"flex__table__row\" role=\"rowgroup\">\r\n                                    <InputLabel id=\"label\">Qty:</InputLabel>\r\n                                    <div className=\"flex__rowChild\" role=\"cell\">\r\n                                        <Select labelId=\"label\" id=\"select\" value={qty} onChange={(e) =>\r\n                                            setQty(e.target.value)}>\r\n\r\n                                            {\r\n                                                [...Array(product.countInStock).keys()].map(x => (\r\n                                                    <option key={x + 1} value={x + 1}>\r\n                                                        {x + 1}\r\n                                                    </option>\r\n                                                ))}\r\n                                        </Select>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n\r\n\r\n                            <div className=\"add__cart\" role=\"rowgroup\">\r\n                                <Button onClick={addToCartHandler} variant=\"outlined\" disabled={product.countInStock === 0}>Add to cart</Button>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"review__container\">\r\n                        <h2>Reviews</h2>\r\n                        {product.reviews.length === 0 &&  <Message>No Reviews</Message>}\r\n                        <div className=\"review__list\">\r\n                            {product.reviews.map(review => (\r\n                                <div className=\"review__item\" key={review._id}>\r\n                                    <strong>{review.name}</strong>\r\n                                    <Rating value={review.rating} />\r\n                                    <p>{review.createdAt.substring(0,10)}</p>\r\n                                    <p>{review.comment}</p>\r\n                                </div>\r\n                            ))}\r\n                            <div className=\"review__maker\">\r\n                            <TableRow>\r\n                                <h2>Write a Customer Review</h2>\r\n                                {errorProductReview &&  <Message severity=\"error\">{errorProductReview}</Message>}\r\n                                {userInfo ? (\r\n                                    <FormContainer>\r\n                                        <ValidatorForm onSubmit={submitHandler} variant=\"outlined\">\r\n                                        <InputLabel shrink htmlFor=\"age-native-label-placeholder\">\r\n                                        Rating\r\n                                        </InputLabel>\r\n                                        <Select\r\n                                            labelId=\"select-rating\"\r\n                                            label=\"Rating\"\r\n                                            id=\"rating\"\r\n                                            value={rating}\r\n                                            onChange={(e) => setRating(e.target.value)}\r\n                                            style={{\r\n                                                border: '1px solid #ced4da',\r\n                                                borderRadius: 4,\r\n                                                backgroundColor: '#f2f2f2'\r\n                                            }}\r\n                                            >\r\n                                            <MenuItem value=''><em>None</em></MenuItem>\r\n                                            <MenuItem value={1}>1 - Poor</MenuItem>\r\n                                            <MenuItem value={2}>2 - Fair</MenuItem>\r\n                                            <MenuItem value={3}>3 - Good</MenuItem>\r\n                                            <MenuItem value={4}>4 - Very Good</MenuItem>\r\n                                            <MenuItem value={5}>5 - Excellent</MenuItem>\r\n                                            </Select>\r\n\r\n                                            <InputLabel shrink htmlFor=\"age-native-label-placeholder\">\r\n                                            Comment\r\n                                            </InputLabel>\r\n                                            <TextValidator\r\n                                                label=\"Write a comment here...\"\r\n                                                onChange={(e) => setComment(e.target.value)}\r\n                                                name=\"comment\"\r\n                                                value={comment}\r\n                                                multiline\r\n                                                style={{\r\n                                                    width: '260%',\r\n                                                    borderRadius: 4,\r\n                                                }}\r\n                                            ></TextValidator>\r\n                                            <br/>\r\n                                            <Button\r\n                                                color=\"secondary\"\r\n                                                variant=\"contained\"\r\n                                                type=\"submit\"  \r\n                                                >\r\n                                                Submit\r\n                                            </Button>\r\n                                        </ValidatorForm>\r\n                                    </FormContainer>\r\n                                ) : <Message>Please <Link to=\"/login\"><b>sign in </b></Link>to write a review</Message>}\r\n                            </TableRow>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    </>\r\n                )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ProductScreen\r\n"]},"metadata":{},"sourceType":"module"}