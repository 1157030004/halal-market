{"ast":null,"code":"var _jsxFileName = \"G:\\\\code\\\\ecommerce\\\\frontend\\\\src\\\\screens\\\\RegisterScreen.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Message from \"../components/Message\";\nimport Loader from \"../components/Loader\";\nimport FormContainer from \"../components/FormContainer\";\nimport { register } from \"../actions/userActions\";\nimport \"./RegisterScreen.css\";\nimport { Button } from '@material-ui/core';\nimport { ValidatorForm, TextValidator } from 'react-material-ui-form-validator';\n\nconst RegisterScreen = ({\n  location,\n  history\n}) => {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [message, setMessage] = useState(null);\n  const dispatch = useDispatch();\n  const userRegister = useSelector(state => state.userRegister);\n  const {\n    loading,\n    error,\n    userInfo\n  } = userRegister;\n  const redirect = location.search ? location.search.split('=')[1] : '/';\n  useEffect(() => {\n    if (userInfo) {\n      history.push(redirect);\n    }\n  }, [history, userInfo, redirect]);\n\n  const submitHandler = e => {\n    e.preventDefault();\n\n    if (password !== confirmPassword) {\n      setMessage(\"Passwords do not match\");\n    } else {\n      dispatch(register(name, email, password));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(FormContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ValidatorForm, {\n    onSubmit: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, \"Sign Up\"), error && /*#__PURE__*/React.createElement(Message, {\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 27\n    }\n  }, error), loading && /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(TextValidator, {\n    label: \"Full Name\",\n    onChange: e => setName(e.target.value),\n    name: \"name\",\n    value: name,\n    validators: ['required'],\n    errorMessages: ['this field is required'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(TextValidator, {\n    label: \"Email\",\n    onChange: e => setEmail(e.target.value),\n    name: \"email\",\n    value: email,\n    validators: ['required', 'isEmail'],\n    errorMessages: ['this field is required', 'email is not valid'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(TextValidator, {\n    label: \"Password\",\n    onChange: e => setPassword(e.target.value),\n    name: \"password\",\n    type: \"password\",\n    value: password,\n    validators: ['required'],\n    errorMessages: ['this field is required'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(TextValidator, {\n    label: \"Confirm Password\",\n    onChange: e => setConfirmPassword(e.target.value),\n    name: \"confirmPassword\",\n    type: \"password\",\n    value: confirmPassword,\n    validators: ['isPasswordMatch', 'required'],\n    errorMessages: ['password mismatch', 'this field is required'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    color: \"secondary\",\n    variant: \"contained\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, \"Register\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, \"Have an account? \", /*#__PURE__*/React.createElement(Link, {\n    to: redirect ? `/login/redirect=${redirect}` : '/login',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 38\n    }\n  }, \"Login\"))));\n};\n\nexport default RegisterScreen;","map":{"version":3,"sources":["G:/code/ecommerce/frontend/src/screens/RegisterScreen.js"],"names":["React","useState","useEffect","Link","useDispatch","useSelector","Message","Loader","FormContainer","register","Button","ValidatorForm","TextValidator","RegisterScreen","location","history","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","message","setMessage","dispatch","userRegister","state","loading","error","userInfo","redirect","search","split","push","submitHandler","e","preventDefault","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Link } from \"react-router-dom\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport Message from \"../components/Message\"\r\nimport Loader from \"../components/Loader\"\r\nimport FormContainer from \"../components/FormContainer\"\r\nimport { register } from \"../actions/userActions\"\r\nimport \"./RegisterScreen.css\"\r\nimport { Button } from '@material-ui/core'\r\nimport { ValidatorForm, TextValidator } from 'react-material-ui-form-validator';\r\n\r\n\r\nconst RegisterScreen = ({ location, history }) => {\r\n    const [name, setName] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [confirmPassword, setConfirmPassword] = useState('')\r\n    const [message, setMessage] = useState(null)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const userRegister = useSelector(state => state.userRegister)\r\n    const { loading, error, userInfo } = userRegister\r\n\r\n    const redirect = location.search ? location.search.split('=')[1] : '/'\r\n\r\n    useEffect(() => {\r\n        if (userInfo) {\r\n            history.push(redirect)\r\n        }\r\n    }, [history, userInfo, redirect])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault()\r\n        if (password !== confirmPassword) {\r\n            setMessage(\"Passwords do not match\")\r\n        } else {\r\n            dispatch(register(name, email, password))\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <FormContainer>\r\n            <ValidatorForm onSubmit={submitHandler}>\r\n                <h2>Sign Up</h2>\r\n                {/* {message && <Message severity='error'>{message}</Message>} */}\r\n                {error && <Message severity='error'>{error}</Message>}\r\n                {loading && <Loader />}\r\n                <TextValidator\r\n                    label=\"Full Name\"\r\n                    onChange={(e) => setName(e.target.value)}\r\n                    name=\"name\"\r\n                    value={name}\r\n                    validators={['required']}\r\n                    errorMessages={['this field is required']}\r\n                ></TextValidator>\r\n\r\n                <TextValidator\r\n                    label=\"Email\"\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    name=\"email\"\r\n                    value={email}\r\n                    validators={['required', 'isEmail']}\r\n                    errorMessages={['this field is required', 'email is not valid']}\r\n                ></TextValidator>\r\n\r\n                <TextValidator\r\n                    label=\"Password\"\r\n                    onChange={(e) => setPassword(e.target.value)}\r\n                    name=\"password\"\r\n                    type=\"password\"\r\n                    value={password}\r\n                    validators={['required']}\r\n                    errorMessages={['this field is required']}\r\n                ></TextValidator>\r\n\r\n                <TextValidator\r\n                    label=\"Confirm Password\"\r\n                    onChange={(e) => setConfirmPassword(e.target.value)}\r\n                    name=\"confirmPassword\"\r\n                    type=\"password\"\r\n                    value={confirmPassword}\r\n                    validators={['isPasswordMatch', 'required']}\r\n                    errorMessages={['password mismatch', 'this field is required']}\r\n                ></TextValidator>\r\n                <br />\r\n                <Button\r\n                    color=\"secondary\"\r\n                    variant=\"contained\"\r\n                    type=\"submit\">\r\n                    Register\r\n                </Button>\r\n            </ValidatorForm>\r\n\r\n            <div>\r\n                <h5>Have an account? <Link to={redirect ? `/login/redirect=${redirect}`\r\n                    : '/login'}>Login</Link></h5>\r\n            </div>\r\n        </FormContainer>\r\n    )\r\n}\r\n\r\nexport default RegisterScreen\r\n"]},"metadata":{},"sourceType":"module"}